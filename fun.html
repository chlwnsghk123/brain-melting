<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì œ1íšŒ ë‡Œë…¹ì‚¬ ê³ ì¸ë¬¼ ëª¨ì˜ê³ ì‚¬</title>
    <style>
        :root {
            --primary-color: #FEE500; /* ì¹´ì¹´ì˜¤ ì˜ë¡œìš° */
            --bg-color: #bacee0; /* ì¹´ì¹´ì˜¤ ë°°ê²½ìƒ‰ */
            --box-color: #ffffff;
            --text-color: #333333;
            --select-color: #4b89dc;
        }

        body {
            font-family: 'Apple SD Gothic Neo', 'Malgun Gothic', sans-serif;
            background-color: var(--bg-color);
            margin: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }

        .container {
            background-color: var(--box-color);
            width: 100%;
            max-width: 500px;
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.1);
            text-align: center;
            position: relative;
        }

        h1 { font-size: 1.5rem; color: var(--text-color); margin-bottom: 10px; }
        
        .badge {
            background-color: #ff4b4b; color: white; padding: 5px 10px;
            border-radius: 15px; font-size: 0.8rem; font-weight: bold;
            display: inline-block; margin-bottom: 20px;
        }

        /* í™”ë©´ ì „í™˜ìš© */
        #start-screen { display: block; }
        #quiz-screen { display: none; }
        #result-screen { display: none; }

        .progress-bar {
            width: 100%; height: 10px; background-color: #eee;
            border-radius: 5px; margin-bottom: 20px; overflow: hidden;
        }
        .progress-fill {
            height: 100%; background-color: var(--primary-color);
            width: 0%; transition: width 0.3s;
        }

        .question-text {
            font-size: 1.2rem; font-weight: bold; margin-bottom: 20px;
            word-break: keep-all; line-height: 1.5;
        }

        /* ê°ê´€ì‹ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
        .options { display: flex; flex-direction: column; gap: 10px; }
        
        .btn {
            padding: 15px; border: 2px solid #eee; border-radius: 12px;
            background: white; font-size: 1rem; cursor: pointer; transition: all 0.2s;
            position: relative;
        }
        .btn:hover { background-color: #f9f9f9; border-color: #ddd; }
        
        .btn.selected-correct { background-color: #d4edda; border-color: #c3e6cb; color: #155724; }
        .btn.selected-wrong { background-color: #f8d7da; border-color: #f5c6cb; color: #721c24; }

        /* ë­í‚¹ í€´ì¦ˆ(1ë²ˆ ë¬¸ì œ) ì „ìš© ìŠ¤íƒ€ì¼ */
        .ranking-grid {
            display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; margin-bottom: 15px;
        }
        .rank-btn {
            padding: 15px; border: 2px solid #ddd; border-radius: 10px;
            background: white; font-weight: bold; cursor: pointer; position: relative;
        }
        .rank-btn.active { border-color: var(--select-color); background-color: #eaf4ff; color: var(--select-color); }
        .rank-badge {
            position: absolute; top: -8px; right: -8px;
            background-color: var(--select-color); color: white;
            width: 24px; height: 24px; border-radius: 50%;
            font-size: 0.8rem; line-height: 24px; display: none;
        }
        .rank-btn.active .rank-badge { display: block; }
        .reset-btn {
            font-size: 0.9rem; padding: 8px 15px; margin-bottom: 15px;
            background-color: #666; color: white; border: none; border-radius: 20px;
        }

        /* ê³µí†µ ë²„íŠ¼ */
        #next-btn, #start-btn, #restart-btn, #check-ranking-btn {
            background-color: var(--primary-color); border: none;
            font-weight: bold; margin-top: 20px; width: 100%; padding: 15px; border-radius: 12px; font-size: 1rem;
            cursor: pointer;
        }

        #explanation {
            margin-top: 20px; padding: 15px; background-color: #f1f3f5;
            border-radius: 10px; text-align: left; font-size: 0.95rem;
            display: none; line-height: 1.6;
        }

        /* ê²°ê³¼ í™”ë©´ ìŠ¤íƒ€ì¼ ìˆ˜ì • */
        .score-text { font-size: 2.5rem; font-weight: bold; margin: 20px 0; color: #333; }
        .rank-text { font-size: 1.1rem; color: #666; margin-bottom: 30px; white-space: pre-line; }
        
        /* OMR ìŠ¤íƒ€ì¼ ê²°ê³¼ ê·¸ë¦¬ë“œ */
        .result-grid {
            display: flex; justify-content: center; gap: 8px; margin: 20px 0; flex-wrap: wrap;
        }
        .res-circle {
            width: 35px; height: 35px; border-radius: 50%;
            display: flex; align-items: center; justify-content: center;
            font-weight: bold; color: white; font-size: 0.9rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .res-circle.correct { background-color: #28a745; } /* ì´ˆë¡ìƒ‰ */
        .res-circle.wrong { background-color: #dc3545; }   /* ë¹¨ê°„ìƒ‰ */
        
        .result-label { font-size: 0.9rem; color: #888; margin-bottom: 5px; }

    </style>
</head>
<body>

    <div class="container">
        <div id="start-screen">
            <span class="badge">ë‚œì´ë„: ìµœìƒ (HELL)</span>
            <h1>ì œ1íšŒ<br>ë‡Œë…¹ì‚¬ ê³ ì¸ë¬¼ ëª¨ì˜ê³ ì‚¬</h1>
            <p>ì¹œêµ¬ë“¤ì˜ ë§íˆ¬, í‘ì—­ì‚¬, ìŠµê´€ì„<br>ì–¼ë§ˆë‚˜ ì˜ ì•Œê³  ìˆë‚˜ìš”?</p>
            <br>
            <button class="btn" id="start-btn" style="background-color: var(--primary-color);">ì‹œí—˜ ì‹œì‘í•˜ê¸°</button>
        </div>

        <div id="quiz-screen">
            <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
            
            <div id="question-container">
                <div class="badge" id="q-category">ì˜ì—­</div>
                <div class="question-text" id="q-text">ë¬¸ì œ ë‚´ìš©</div>
                
                <div id="ranking-container" style="display:none;">
                    <button class="reset-btn" id="reset-ranking-btn">â†» ë‹¤ì‹œ ì„ íƒí•˜ê¸°</button>
                    <div class="ranking-grid" id="ranking-grid"></div>
                    <button class="btn" id="check-ranking-btn" style="display:none; background-color:#333; color:white;">ì •ë‹µ í™•ì¸</button>
                </div>

                <div class="options" id="options-container"></div>
            </div>

            <div id="explanation">
                <strong><span id="correct-answer-text"></span></strong><br>
                <span id="explanation-text"></span>
            </div>

            <button class="btn" id="next-btn" style="display:none;">ë‹¤ìŒ ë¬¸ì œ â”</button>
        </div>

        <div id="result-screen">
            <h1>ì±„ì  ê²°ê³¼</h1>
            
            <div class="result-label">ë¬¸í•­ë³„ ì •ì˜¤í‘œ</div>
            <div class="result-grid" id="omr-grid"></div>

            <div class="score-text" id="final-score">0ì </div>
            <div class="rank-text" id="final-msg">ë©”ì‹œì§€</div>
            
            <button class="btn" id="restart-btn" style="background-color: var(--primary-color);">ì¬ë„ì „í•˜ê¸°</button>
        </div>
    </div>

    <script>
        // â˜… í€´ì¦ˆ ë°ì´í„°
        const quizData = [
            {
                category: "[ì œ 1ì˜ì—­] ë¹…ë°ì´í„° ë¶„ì„ (ìˆœìœ„ ë§ì¶”ê¸°)",
                question: "ì´ ë‹¨í†¡ë°©ì—ì„œ ê°€ì¥ ë§ì´ ì“°ì¸ ë‹¨ì–´ 1ìœ„, 2ìœ„, 3ìœ„ë¥¼ ìˆœì„œëŒ€ë¡œ ì„ íƒí•˜ì„¸ìš”.",
                type: "ranking",
                candidates: ["ã…‹ã…‹", "ã…ã…‡", "ì‚¬ì§„", "ì‹œë°œ", "ì¡´ë‚˜", "ë°°ê³ íŒŒ", "ì•„ë‹ˆ", "ê·¼ë°", "ã„¹ã…‡", "ã… ã… "],
                correctOrder: ["ã…‹ã…‹", "ã…ã…‡", "ì‚¬ì§„"],
                desc: "1ìœ„: ã…‹ã…‹ (ì••ë„ì )<br>2ìœ„: ã…ã…‡ (ë§¤ì¼ ì¸ì‚¬)<br>3ìœ„: ì‚¬ì§„ (ìŒì‹/ì—½ì‚¬ ê³µìœ )<br><br>'ì‹œë°œ', 'ì¡´ë‚˜'ëŠ” 4, 5ìœ„ì˜€ìŠµë‹ˆë‹¤."
            },
            {
                category: "[ì œ 1ì˜ì—­] ë¹…ë°ì´í„° ë¶„ì„",
                question: "'ì§€ì€'ë‹˜ì´ 'ã…‹ã…‹', 'ã…ã…‡'ë¥¼ ì œì™¸í•˜ê³  ê°€ì¥ ë§ì´ ì‚¬ìš©í•œ ë‹¨ì–´ëŠ”?",
                type: "objective",
                options: ["ì‘ì—…", "ì‚¬ë‹¹", "ì‹œë°œ", "ë°°ê³ íŒŒ", "ì§‘"],
                answer: 2,
                desc: "ê³¼ì œì™€ ì‘ì—…ì˜ ê³ í†µì„ 'ì‹œë°œ'ì´ë¼ëŠ” ë‹¨ì–´ í•˜ë‚˜ë¡œ ìŠ¹í™”ì‹œì¼°ìŠµë‹ˆë‹¤."
            },
            {
                category: "[ì œ 1ì˜ì—­] ë¹…ë°ì´í„° ë¶„ì„",
                question: "'ë°•ì¼ë¯¼'ë‹˜ì´ 'ã…‹ã…‹', 'ã…ã…‡'ë¥¼ ì œì™¸í•˜ê³  ê°€ì¥ ë§ì´ ì‚¬ìš©í•œ ë‹¨ì–´ëŠ”?",
                type: "objective",
                options: ["ëŒ€ì „", "ë¡¤ì²´", "ì¤€í™”", "ã„¹ã…‡", "ìº¬"],
                answer: 4,
                desc: "'ìº¬', 'ã„¹ã…‡ã…‹ã…‹' ë“± ë³„ë‹¤ë¥¸ ì˜ë¯¸ ì—†ëŠ” ì¶”ì„ìƒˆë¥¼ ë„£ëŠ” íšŸìˆ˜ê°€ ì••ë„ì ìœ¼ë¡œ ë§ì•˜ìŠµë‹ˆë‹¤."
            },
            {
                category: "[ì œ 1ì˜ì—­] ë¹…ë°ì´í„° ë¶„ì„",
                question: "'ìµœì¤€í™”'ë‹˜ì´ 'ã…‹ã…‹', 'ã…ã…‡'ë¥¼ ì œì™¸í•˜ê³  ê°€ì¥ ë§ì´ ì‚¬ìš©í•œ ë‹¨ì–´ëŠ”?",
                type: "objective",
                options: ["ë¡¤", "ê·¼ë°", "ì§„ì§œ", "ì¬ë¯¼ì•„", "ë‚˜"],
                answer: 1,
                desc: "ë¬¸ì¥ì„ ì‹œì‘í•  ë•Œ ìŠµê´€ì ìœ¼ë¡œ 'ê·¼ë°', 'ì•„ë‹ˆ', 'ê·¸'ë¥¼ ë¶™ì…ë‹ˆë‹¤."
            },
            {
                category: "[ì œ 2ì˜ì—­] ì§„ìœ„ íŒë³„ (Hell)",
                question: "ë‹¤ìŒ ì¤‘ 'ì§€ì€'ë‹˜ì´ í•œ ë§ì´ *ì•„ë‹Œ* ê²ƒì€?",
                type: "objective",
                options: ["ë‚´ ë¡¤ì²´ íŒìˆ˜ 515íŒ ëŒíŒŒ", "ì¤€í™”ì˜¤ë¹  ë©‹ìˆë‹¤", "ë‚˜ëŠ” ê±°ì‹¤ ì‡¼íŒŒì—ì„œ ìëŠ”ê±¸ ì„ í˜¸í•´", "ë‚˜ ì˜¤ëŠ˜ íƒˆì½”í–ˆëŠ”ë° í˜ë¯¸ë¼ê³  ì†Œê°œì¢€", "ì‚¬ë‹¹ë°ì´ ì¢…ë£Œ"],
                answer: 0,
                desc: "1ë²ˆì€ ë¡¤ì²´ì— ë¯¸ì³ìˆë˜ **ìµœì¤€í™”**ì˜ ë°œì–¸ì…ë‹ˆë‹¤. (ì§€ì€ì€ 'ì¤€í™”ì˜¤ë¹  ë©‹ìˆë‹¤'ë¥¼ ë¹„ê¼¬ëŠ” íˆ¬ë¡œ ë§í•œ ì ì´ ìˆìŠµë‹ˆë‹¤)"
            },
            {
                category: "[ì œ 2ì˜ì—­] ì§„ìœ„ íŒë³„ (Hell)",
                question: "ë‹¤ìŒ ì¤‘ 'ë°•ì¼ë¯¼'ë‹˜ì´ í•œ ë§ì´ *ì•„ë‹Œ* ê²ƒì€?",
                type: "objective",
                options: ["ë‚˜ëŠ” ì•„ë¹ ì²˜ëŸ¼ ì‚¬ëŠ” ê²Œ ëª©í‘œì•¼", "ëŒ€ì„¹ì¤€ì°¨ë­‰", "í”„ë ˆí¼ìŠ¤ ë²”ê³„ì ì„ ì—¬ëŠ” ê²Œ ë‚´ ëª©í‘œì•¼", "ë¯¸ì§€ë¯„ ì‚¬ë§ ì¦Œë§", "ìš°ë¦¬ ì…‹ì´ì„œ ì‹œê°€ë°” ê°€ì„œ ì‹œê°€ë‚˜ í•œëŒ€ íƒœìš¸ê¹Œ"],
                answer: 2,
                desc: "í”„ë ˆí¼ìŠ¤ ì°½ì—… ë¡œë“œë§µì„ ì§  ê±´ **ìµœì¤€í™”**ì…ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ëŠ” ë°•ì¼ë¯¼ì˜ ë“œë¦½ì…ë‹ˆë‹¤."
            },
            {
                category: "[ì œ 2ì˜ì—­] ì§„ìœ„ íŒë³„ (Hell)",
                question: "ë‹¤ìŒ ì¤‘ 'ìµœì¤€í™”'ë‹˜ì´ í•œ ë§ì´ *ì•„ë‹Œ* ê²ƒì€?",
                type: "objective",
                options: ["ë‚˜ ì•„ì˜¤ì‹  ë ˆë²¨ 70ì´ì•¼", "ë‹ˆë“¤ì´ ëª»í•˜ëŠ” ë ˆë„¥í†¤? ë‚˜ëŠ” í• ì¤„ì•Œì•„", "ì¬ë¯¼ì•„ ì „í™” í•œë²ˆë§Œ ê±¸ì–´ì¤˜", "ë‚˜ ë ˆì˜¤ë‚˜, ë ˆì˜¤ë‚˜ëŠ” ìš°ë¦¬ ê³ì— ìˆêµ¬ë‚˜", "ì„œë¸Œì›¨ì´ ì•Œë°”í•˜ê³  ì™”ë‹¤ë‹ˆê¹Œ ì•„ë¹ ê°€ í˜¸ì ì—ì„œ íŒŒë²„ë¦°ëŒ€"],
                answer: 3,
                desc: "4ë²ˆì€ ìƒˆë²½ ê°ì„±ì— ì·¨í•´ ì•„ë¬´ ë§ì´ë‚˜ ì¹˜ë˜ **ì§€ì€**ì˜ ë°œì–¸ì…ë‹ˆë‹¤."
            },
            {
                category: "[ì œ 2ì˜ì—­] ì§„ìœ„ íŒë³„ (Hell)",
                question: "ë‹¤ìŒ ì¤‘ ì´ í†¡ë°©ì—ì„œ ì¼ì–´ë‚œ *ì‹¤ì œ ì‚¬ê±´ì´ ì•„ë‹Œ* ê²ƒì€?",
                type: "objective",
                options: ["ë°•ì¼ë¯¼, ATMê¸°ê°€ 15ë§Œì› ë¨¹ìŒ", "ì§€ì€, ê³¼ì œí•˜ë‹¤ ë§ê³  ë¡¤ì²´ 515íŒ ìë‘í•¨", "ìµœì¤€í™”, ì œì£¼ë„ ì™•ë³µ í•­ê³µê¶Œ 3ë§Œì›ì— ëŠìŒ", "ë°•ì¼ë¯¼, ì˜ˆë¹„êµ° ì¡°ê¸°í‡´ì†Œ í›„ ë‚®ìˆ ", "ì§€ì€, ì‚¬ë‹¹ì—­ 13ë²ˆ ì¶œêµ¬ ë‚˜ì¹˜ ê²½ë¡€ ëŒ€ê¸° ëª…ë ¹"],
                answer: 1,
                desc: "ë¡¤ì²´ íŒìˆ˜ 515íŒì„ ìë‘í•œ ê±´ ìµœì¤€í™”ì…ë‹ˆë‹¤. ì§€ì€ì€ ê³¼ì œ ë•Œë¬¸ì— ê´´ë¡œì›Œí–ˆì„ ë¿ì…ë‹ˆë‹¤."
            },
            {
                category: "[ì œ 2ì˜ì—­] ì§„ìœ„ íŒë³„ (Hell)",
                question: "ë‹¤ìŒ ì¤‘ 'ì§€ì€'ì˜ ë°œì–¸ìœ¼ë¡œ ë¬¸ë§¥ìƒ ê°€ì¥ *ì´ì§ˆì ì¸(í•˜ì§€ ì•Šì€)* ê²ƒì€?",
                type: "objective",
                options: ["ì„±ì‹¬ë‹¹ ë„ˆ ë°°ë¯¼ ì—´ì–´", "ì¤€í™”ê°€ ì§‘ë°¥í•´ì£¼ë©´ ì•ˆë¨? ê±°ì ˆì‹œ ì¤€ì°¨ë­‰", "í•œí™” ì´ê¸€ìŠ¤ ìš°ìŠ¹ ê°€ì ì œë°œ", "ì•¼êµ¬íŒ¬ë“¤ì€ ì§„ì§œ ì •ë³‘ë§¥ìŠ¤ë‹¤", "ìˆœì¢…ì ì¸ ì¼ë…€ ì°¾ì•„ì„œ ì‹ëª¨ì‹œí‚¤ì"],
                answer: 2,
                desc: "ì§€ì€ì€ ë¡¯ë° ìì´ì–¸ì¸  íŒ¬ì…ë‹ˆë‹¤. í•œí™” ë•Œë¬¸ì— ê³ í†µë°›ëŠ” ê±´ ë°•ì¼ë¯¼ì…ë‹ˆë‹¤."
            },
            {
                category: "[ì œ 2ì˜ì—­] ì§„ìœ„ íŒë³„ (ìµœìƒ)",
                question: "'ë°•ì¼ë¯¼'ì´ ìµœì¤€í™”ë¥¼ ë¶€ë¥¼ ë•Œ ì‚¬ìš©í•œ í˜¸ì¹­ì´ *ì•„ë‹Œ* ê²ƒì€?",
                type: "objective",
                options: ["14q", "í•‘í¬íì¥ì¸", "ì¦Œì˜ì„ ", "ëŒ€ì„¹ì¤€", "ì„­ì›¨ì¤€"],
                answer: 4,
                desc: "ë°•ì¼ë¯¼ì€ 'ì¤€ì°¨ë­‰' ê´€ë ¨ ë“œë¦½ì€ ë§ì´ ì³¤ìœ¼ë‚˜ 'ì„­ì›¨ì¤€'ì´ë¼ëŠ” í˜¸ì¹­ì€ ì“´ ì ì´ ì—†ìŠµë‹ˆë‹¤."
            }
        ];

        let currentQIndex = 0;
        let score = 0;
        let userRankingSelection = [];
        let resultHistory = []; // [true, false, true...] ì €ì¥ìš©

        const startScreen = document.getElementById('start-screen');
        const quizScreen = document.getElementById('quiz-screen');
        const resultScreen = document.getElementById('result-screen');
        
        document.getElementById('start-btn').addEventListener('click', () => {
            startScreen.style.display = 'none';
            quizScreen.style.display = 'block';
            loadQuestion();
        });

        document.getElementById('restart-btn').addEventListener('click', () => {
            currentQIndex = 0;
            score = 0;
            userRankingSelection = [];
            resultHistory = [];
            resultScreen.style.display = 'none';
            startScreen.style.display = 'block';
        });

        document.getElementById('next-btn').addEventListener('click', () => {
            currentQIndex++;
            if (currentQIndex < quizData.length) loadQuestion();
            else showResult();
        });

        document.getElementById('reset-ranking-btn').addEventListener('click', () => {
            userRankingSelection = [];
            renderRankingButtons();
        });

        document.getElementById('check-ranking-btn').addEventListener('click', checkRankingAnswer);

        function loadQuestion() {
            const data = quizData[currentQIndex];
            
            document.getElementById('q-category').textContent = data.category;
            document.getElementById('q-text').textContent = `Q${currentQIndex + 1}. ${data.question}`;
            document.getElementById('explanation').style.display = 'none';
            document.getElementById('next-btn').style.display = 'none';
            
            const progressPercent = ((currentQIndex) / quizData.length) * 100;
            document.getElementById('progress').style.width = `${progressPercent}%`;

            if (data.type === 'ranking') {
                document.getElementById('options-container').style.display = 'none';
                document.getElementById('ranking-container').style.display = 'block';
                userRankingSelection = [];
                renderRankingButtons();
            } else {
                document.getElementById('ranking-container').style.display = 'none';
                document.getElementById('options-container').style.display = 'flex';
                renderObjectiveButtons(data);
            }
        }

        function renderRankingButtons() {
            const container = document.getElementById('ranking-grid');
            const data = quizData[currentQIndex];
            container.innerHTML = '';
            
            const checkBtn = document.getElementById('check-ranking-btn');
            if (userRankingSelection.length === 3) checkBtn.style.display = 'block';
            else checkBtn.style.display = 'none';

            data.candidates.forEach(word => {
                const btn = document.createElement('div');
                btn.className = 'rank-btn';
                btn.textContent = word;
                
                const selectedIdx = userRankingSelection.indexOf(word);
                if (selectedIdx !== -1) {
                    btn.classList.add('active');
                    const badge = document.createElement('div');
                    badge.className = 'rank-badge';
                    badge.textContent = (selectedIdx + 1);
                    btn.appendChild(badge);
                }

                btn.onclick = () => {
                    if (document.getElementById('next-btn').style.display === 'block') return;
                    if (selectedIdx === -1) {
                        if (userRankingSelection.length < 3) {
                            userRankingSelection.push(word);
                            renderRankingButtons();
                        }
                    }
                };
                container.appendChild(btn);
            });
        }

        function renderObjectiveButtons(data) {
            const container = document.getElementById('options-container');
            container.innerHTML = '';
            data.options.forEach((opt, index) => {
                const btn = document.createElement('button');
                btn.className = 'btn';
                btn.textContent = opt;
                btn.onclick = () => checkObjectiveAnswer(index, btn);
                container.appendChild(btn);
            });
        }

        function checkRankingAnswer() {
            const data = quizData[currentQIndex];
            const isCorrect = JSON.stringify(userRankingSelection) === JSON.stringify(data.correctOrder);
            
            // ê²°ê³¼ ê¸°ë¡
            resultHistory.push(isCorrect);
            if (isCorrect) score += 10;

            document.getElementById('check-ranking-btn').style.display = 'none';
            
            const explanationBox = document.getElementById('explanation');
            explanationBox.style.display = 'block';
            document.getElementById('next-btn').style.display = 'block';

            let resultText = isCorrect ? "<span style='color:green'>ì •ë‹µì…ë‹ˆë‹¤!</span>" : "<span style='color:red'>í‹€ë ¸ìŠµë‹ˆë‹¤.</span>";
            document.getElementById('correct-answer-text').innerHTML = `${resultText} (ì •ë‹µ: ${data.correctOrder.join(' > ')})`;
            document.getElementById('explanation-text').innerHTML = data.desc;
        }

        function checkObjectiveAnswer(selectedIndex, btnElement) {
            if (document.getElementById('next-btn').style.display === 'block') return;

            const data = quizData[currentQIndex];
            const isCorrect = selectedIndex === data.answer;

            // ê²°ê³¼ ê¸°ë¡
            resultHistory.push(isCorrect);

            if (isCorrect) {
                btnElement.classList.add('selected-correct');
                score += 10;
            } else {
                btnElement.classList.add('selected-wrong');
                const buttons = document.querySelectorAll('#options-container .btn');
                buttons[data.answer].classList.add('selected-correct');
            }

            const explanationBox = document.getElementById('explanation');
            explanationBox.style.display = 'block';
            document.getElementById('next-btn').style.display = 'block';

            document.getElementById('correct-answer-text').textContent = isCorrect ? "ì •ë‹µ!" : `ì •ë‹µ: ${data.options[data.answer]}`;
            document.getElementById('explanation-text').innerHTML = data.desc;
        }

        function showResult() {
            quizScreen.style.display = 'none';
            resultScreen.style.display = 'block';
            
            // ë§ì¶˜ ê°œìˆ˜ ê³„ì‚°
            const correctCount = resultHistory.filter(r => r).length;
            
            // ì ìˆ˜ ë° ê°œìˆ˜ í…ìŠ¤íŠ¸ í‘œì‹œ
            document.getElementById('final-score').innerHTML = `${correctCount}ê°œ ì •ë‹µ <span style="font-size:1.2rem; color:#888;">(${score}ì )</span>`;

            // OMR ê·¸ë¦¬ë“œ ìƒì„±
            const omrGrid = document.getElementById('omr-grid');
            omrGrid.innerHTML = '';
            resultHistory.forEach((res, idx) => {
                const circle = document.createElement('div');
                circle.className = res ? 'res-circle correct' : 'res-circle wrong';
                circle.textContent = idx + 1;
                omrGrid.appendChild(circle);
            });
            
            let msg = "";
            if (score === 100) msg = "ğŸ† ëª…ì˜ˆì˜ ì „ë‹¹ ğŸ†\në‹¹ì‹ ì€ ì´ ë‹¨í†¡ë°©ì˜ ë§ë ¹ì…ë‹ˆë‹¤.\nì†Œë¦„ë‹ë„¤ìš”.";
            else if (score >= 70) msg = "ğŸ‘ ê³ ì¸ë¬¼ í•©ê²© ğŸ‘\nì¹œêµ¬ë“¤ì˜ TMIë¥¼ ê½¤ ë§ì´ ì•Œê³  ê³„ì‹œë„¤ìš”.";
            else if (score >= 40) msg = "ğŸ™‚ ì¼ë°˜ì¸ ë ˆë²¨ ğŸ™‚\nì•„ì§ ìˆ˜í–‰ì´ ë¶€ì¡±í•©ë‹ˆë‹¤.";
            else msg = "ğŸ˜¨ ëˆ„êµ¬ì„¸ìš”? ğŸ˜¨\nì¹œêµ¬ë“¤ì—ê²Œ ê´€ì‹¬ì„ ì¢€ ê°€ì ¸ì£¼ì„¸ìš”.";

            document.getElementById('final-msg').textContent = msg;
        }
    </script>
</body>
</html>
